
# copy/paste rules directly out of megastrucutre/starbase_building definitions

sba_is_valid_arc_furnace_system = {
	# possible (system)
	system_has_dyson_sphere = no
	NOT = {
		solar_system = {
			has_star_flag = dyson_sphere_construction
		}
	}
	system_has_arc_furnace = no
}
sba_is_valid_arc_furnace_planet = {
	# placement_rules
	# NOT = { has_anomaly = yes }
	is_planet_class = pc_molten
	NOR = {
		has_planet_flag = megastructure
		has_planet_flag = has_megastructure
	}
}

sba_is_valid_dyson_swarm_system = {
	# possible (system)
	NOR = {
		is_binary_star = yes # SBA replaced: for compatability w/ other mods
		# is_star_class = sc_binary_1
		# is_star_class = sc_binary_2
		# is_star_class = sc_binary_3
		# is_star_class = sc_binary_4
		# is_star_class = sc_binary_5
		# is_star_class = sc_binary_6
		# is_star_class = sc_binary_7
		# is_star_class = sc_binary_8
		# is_star_class = sc_binary_9
		# is_star_class = sc_binary_10
		is_trinary_star = yes # SBA replaced: for compatability w/ other mods
		# is_star_class = sc_trinary_1
		# is_star_class = sc_trinary_2
		# is_star_class = sc_trinary_3
		# is_star_class = sc_trinary_4

		is_star_class = sc_black_hole
		is_star_class = sc_neutron_star
		is_star_class = sc_pulsar
	}
}
sba_is_valid_dyson_swarm_planet = {
	# placement_rules
	is_star = yes
	NOT = { has_anomaly = yes }
	NOR = {
		has_planet_flag = megastructure
		has_planet_flag = has_megastructure
	}
}
sba_is_valid_quantum_catapult_system = {
	# possible (system)
	has_no_non_gate_megastructure = yes
	NOT = {
		any_system_planet = {
			is_planet_class = pc_cosmogenesis_world
		}
	}
}
sba_is_valid_quantum_catapult_planet = {
	# placement_rules
	NOT = { has_anomaly = yes }
	is_star = yes
	if = {
		limit = {
			is_trinary_star = no
			is_binary_star = no
		}
		OR = {
			is_star_class = sc_neutron_star
			is_star_class = sc_pulsar
		}
	}
	else = {
		OR = {
			is_planet_class = pc_neutron_star
			is_planet_class = pc_pulsar
		}
	}
}

sba_is_valid_habitat_system = {
	# possible (system)
	NOT = {
		OR = {
			any_system_planet = {
				OR = {
					has_planet_flag = habitat
					has_planet_flag = hold_the_line_habitat
				}
			}
			has_megastructure = habitat_central_complex_ruined
		}
	}
	NOT = {
		any_system_planet = {
			has_planet_flag = has_orbital_debris
		}
	}
	NOR = { # in placement_rules for some reason
		has_star_flag = ring_world_built
		has_star_flag = ithomes_gate
		has_star_flag = solarpunk_system_02
	}
}
sba_is_valid_habitat_planet = {
	# placement_rules
	# NOT = { has_anomaly = yes }
	NOR = {
		has_planet_flag = megastructure
		has_planet_flag = has_megastructure
		solar_system = {
			OR = {
				has_star_flag = ring_world_built
				has_star_flag = ithomes_gate
			}
		}
		is_planet_class = pc_ringworld_habitable
		is_planet_class = pc_ringworld_habitable_damaged
		is_planet_class = pc_ringworld_tech
		is_planet_class = pc_ringworld_tech_damaged
		is_planet_class = pc_ringworld_seam
		is_planet_class = pc_ringworld_seam_damaged
		is_planet_class = pc_habitat
		is_planet_class = pc_cosmogenesis_world
	}
	NOR = {
		is_asteroid = yes
		is_moon = yes
	}
	is_astral_scar = no
}

# sba_is_valid__system = {
# 	# possible (system)
# }
# sba_is_valid__planet = {
# 	# placement_rules
# }

# sba_is_valid__system = {
# 	# possible (system)
# }
# sba_is_valid__planet = {
# 	# placement_rules
# }

# sba_is_valid__system = {}
sba_is_valid_ice_mining_planet = {
	OR = {
		is_planet_class = pc_ice_asteroid
		is_planet_class = pc_frozen
	}
	NOT = { has_planet_flag = mercenary_enclave_planet }
}