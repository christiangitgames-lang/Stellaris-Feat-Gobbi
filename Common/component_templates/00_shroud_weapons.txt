@attack_range = 10
@engagement_range = 125
@launch_time = 2
@speed = 800
@count = 8
@regen = 0.5
@power = -73

# ## Psionic Bombers
strike_craft_component_template = {
	key = "PSIONIC_STRIKE_CRAFT"
	size = LARGE
	entity = "bomber_entity"

	weapon_type = point_defence
	projectile_gfx = "psionic_strike_craft_laser"

	power = @power
	resources = {
		category = ship_components
		cost = {
			alloys = @l_t6_cost # 114
			sr_zro = @l_t4_rare # 1.0
		}
		upkeep = {
			alloys = @l_t6_upkeep_alloys
			energy = @l_t6_upkeep_energy
		}
	}

	count = @count
	regeneration_per_day = @regen
	launch_time = @launch_time

	damage = { min = 5 max = 13 }
	cooldown = 2.3
	range = @attack_range
	engagement_range = @engagement_range
	accuracy = 1.00
	tracking = 0.35

	health = 13
	armor = 0
	shield = 35
	evasion = 0.9

	speed = @speed
	rotation_speed = 0.8
	acceleration = 1

	shield_penetration = 1.0
	armor_damage = 1.5
	size_damage_factor = 0.1

	ship_behavior = "fighters_behavior"

	icon = "GFX_ship_part_psionic_bombers"
	icon_frame = 1
	component_set = "PSIONIC_STRIKE_CRAFT"
	prerequisites = { "tech_psionic_bombers" }

	tags = { weapon_type_strike_craft weapon_type_psionic }
	ai_tags = { weapon_role_point_defense carrier }
	point_defence_targets = { "strike_craft" }

	potential = {
		from = {
			country_uses_bio_ships = no
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = no
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

strike_craft_component_template = {
	key = "BIO_PSIONIC_STRIKE_CRAFT"
	size = LARGE
	entity = "bomber_entity"

	weapon_type = point_defence
	projectile_gfx = "psionic_strike_craft_laser"

	power = @power
	resources = {
		category = ship_components
		cost = {
			food = @l_t6_cost # 114
			mult = @alloy_to_food_cost_ratio
		}
		cost = {
			sr_zro = @l_t4_rare # 1.0
		}
		upkeep = {
			food = @l_t6_upkeep_energy
			alloys = @l_t6_upkeep_alloys
		}
	}

	count = @[ count * 2 ]
	regeneration_per_day = @[ regen * 2 ]
	launch_time = @launch_time

	damage = { min = 2.5 max = 6.5 }
	cooldown = 2.3
	range = @attack_range
	engagement_range = @engagement_range
	accuracy = 1.00
	tracking = 0.35

	health = 6.5
	armor = 17
	shield = 0
	evasion = 0.9

	speed = @speed
	rotation_speed = 0.8
	acceleration = 1

	shield_penetration = 1.0
	armor_damage = 1.5
	size_damage_factor = 0.1

	ship_behavior = "fighters_behavior"

	icon = "GFX_mutation_psionic_sappers"
	icon_frame = 1
	component_set = "BIO_PSIONIC_STRIKE_CRAFT"
	prerequisites = { "tech_psionic_bombers" }

	tags = { weapon_type_strike_craft weapon_type_psionic }
	ai_tags = { weapon_role_point_defense carrier }
	point_defence_targets = { "strike_craft" }

	potential = {
		from = {
			country_uses_bio_ships = yes
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = yes
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

# ## Psionic Lighting
weapon_component_template = {
	key = "PSIONIC_LIGHTNING"

	size = large
	type = instant
	icon = "GFX_ship_part_psionic_lightning"
	icon_frame = 1
	projectile_gfx = "psionic_arc_emitter"

	target_type = target_enemies
	target_focus = spread
	on_hit = {
		hidden_effect = {
			if = {
				limit = {
					exists = this
					is_civilian = no
					NOT = { is_ship_class = shipclass_starbase }
				}
				random = {
					chance = value:ship_terrify_chance
					set_terrified_by = root.from
					set_ship_flag = is_terrified
					ship_event = {
						id = shroud.5
						days = value:ship_terrify_duration
					}
				}
			}
		}
		custom_tooltip = "ship_terrify_tt"
	}

	component_set = "PSIONIC_LIGHTNING"
	prerequisites = { "tech_psionic_lightning" }
	resources = {
		category = ship_components
		cost = {
			alloys = @l_t3_cost # 68
			sr_zro = @m_t4_rare # 0.5
		}
		upkeep = {
			alloys = @l_t3_upkeep_alloys
			energy = @l_t3_upkeep_energy
		}
	}
	tags = { weapon_type_energy weapon_type_psionic l_slot }
	ai_tags = { weapon_role_anti_hull }

	potential = {
		from = {
			country_uses_bio_ships = no
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = no
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0.0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

weapon_component_template = {
	key = "BIO_PSIONIC_LIGHTNING"

	size = large
	type = instant
	icon = "GFX_mutation_psionic_bio_lightning"
	icon_frame = 1
	projectile_gfx = "psionic_arc_emitter"

	target_type = target_enemies
	target_focus = spread
	on_hit = {
		hidden_effect = {
			if = {
				limit = {
					exists = this
					is_civilian = no
					NOT = { is_ship_class = shipclass_starbase }
				}
				random = {
					chance = value:ship_terrify_chance
					set_terrified_by = root.from
					set_ship_flag = is_terrified
					ship_event = {
						id = shroud.5
						days = value:ship_terrify_duration
					}
				}
			}
		}
		custom_tooltip = "ship_terrify_tt"
	}

	component_set = "BIO_PSIONIC_LIGHTNING"
	prerequisites = { "tech_psionic_lightning" }
	resources = {
		category = ship_components
		cost = {
			alloys = @l_t3_cost # 68
			sr_zro = @m_t4_rare # 0.5
		}
		upkeep = {
			food = @l_t3_upkeep_energy
			alloys = @l_t3_upkeep_alloys
		}
	}
	tags = { weapon_type_energy weapon_type_psionic l_slot }
	ai_tags = { weapon_role_anti_hull }

	potential = {
		from = {
			country_uses_bio_ships = yes
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = yes
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0.0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

# ## Psionic Disruptor
weapon_component_template = {
	key = "SMALL_PSIONIC_DISRUPTOR"
	size = small
	type = instant

	icon = "GFX_ship_part_psionic_disruptor"
	icon_frame = 1

	target_type = target_enemies
	target_focus = spread
	injected_modifier = {
		modifier = {
			modifier = psionic_disruptor_anti_fire_rate
			days = 10
		}
		stack_info = {			#A ship can only be affected by one injected modifier of a certain id. If multiple modifiers have the same ID the one with the highest priority will be applied.
			id = anti_fire_rate
			priority = 1
		}
	}

	prerequisites = { "tech_psionic_disruptor" }
	component_set = "PSIONIC_DISRUPTOR"
	projectile_gfx = "psionic_disruptor_small"
	tags = { weapon_type_energy weapon_type_psionic s_slot debuffer_role }
	ai_tags = { weapon_role_anti_hull brawler brawler_stealth debuffer_role debuffer_role_stealth }
	ai_tag_weight = 5
	resources = {
		category = ship_components
		cost = {
			alloys = @s_t5_cost # 22
			sr_zro = @s_t4_upkeep_energy # 0.17
		}
		upkeep = {
			alloys = @s_t5_upkeep_alloys
			energy = @s_t5_upkeep_energy
		}
	}
	ship_modifier = {
		ship_shield_regen_add_static = @regen_S1 #Regeneration per day
		ship_orbital_bombardment_mult = 0.1
	}
	potential = {
		from = {
			country_uses_bio_ships = no
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = no
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

weapon_component_template = {
	key = "MEDIUM_PSIONIC_DISRUPTOR"
	size = medium
	type = instant

	icon = "GFX_ship_part_psionic_disruptor"
	icon_frame = 1

	target_type = target_enemies
	target_focus = spread
	injected_modifier = {
		modifier = {
			modifier = psionic_disruptor_anti_fire_rate
			days = 10
		}
		stack_info = {			#A ship can only be affected by one injected modifier of a certain id. If multiple modifiers have the same ID the one with the highest priority will be applied.
			id = anti_fire_rate
			priority = 1
		}
	}

	prerequisites = { "tech_psionic_disruptor" }
	component_set = "PSIONIC_DISRUPTOR"
	projectile_gfx = "psionic_disruptor_medium"
	tags = { weapon_type_energy weapon_type_psionic m_slot debuffer_role }
	ai_tags = { weapon_role_anti_hull brawler brawler_stealth debuffer_role debuffer_role_stealth }
	ai_tag_weight = 5
	resources = {
		category = ship_components
		cost = {
			alloys = @m_t5_cost # 44
			sr_zro = @s_t5_rare # 0.33
		}
		upkeep = {
			alloys = @m_t5_upkeep_alloys
			energy = @m_t5_upkeep_energy
		}
	}

	potential = {
		from = {
			country_uses_bio_ships = no
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = no
	}
	ship_modifier = {
		ship_shield_regen_add_static = @regen_M1 #Regeneration per day
		ship_orbital_bombardment_mult = 0.2
	}
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

weapon_component_template = {
	key = "SMALL_BIO_PSIONIC_DISRUPTOR"
	size = small
	type = instant

	icon = "GFX_mutation_psionic_bio_disruptor"
	icon_frame = 1

	target_type = target_enemies
	target_focus = spread
	injected_modifier = {
		modifier = {
			modifier = psionic_disruptor_anti_fire_rate
			days = 10
		}
		stack_info = {			#A ship can only be affected by one injected modifier of a certain id. If multiple modifiers have the same ID the one with the highest priority will be applied.
			id = anti_fire_rate
			priority = 1
		}
	}

	prerequisites = { "tech_psionic_disruptor" }
	component_set = "BIO_PSIONIC_DISRUPTOR"
	projectile_gfx = "psionic_disruptor_small"
	tags = { weapon_type_energy weapon_type_psionic s_slot debuffer_role }
	ai_tags = { weapon_role_anti_hull brawler brawler_stealth debuffer_role debuffer_role_stealth }
	ai_tag_weight = 5
	resources = {
		category = ship_components
		cost = {
			alloys = @s_t5_cost # 22
			sr_zro = @s_t4_upkeep_energy # 0.17
		}
		upkeep = {
			food = @s_t5_upkeep_energy
			alloys = @s_t5_upkeep_alloys
		}
	}
	ship_modifier = {
		ship_shield_regen_add_static = @regen_M1 #Regeneration per day
		ship_orbital_bombardment_mult = 0.2
	}
	potential = {
		from = {
			country_uses_bio_ships = yes
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = yes
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

weapon_component_template = {
	key = "MEDIUM_BIO_PSIONIC_DISRUPTOR"
	size = medium
	type = instant

	icon = "GFX_mutation_psionic_bio_disruptor"
	icon_frame = 1

	target_type = target_enemies
	target_focus = spread
	injected_modifier = {
		modifier = {
			modifier = psionic_disruptor_anti_fire_rate
			days = 10
		}
		stack_info = {			#A ship can only be affected by one injected modifier of a certain id. If multiple modifiers have the same ID the one with the highest priority will be applied.
			id = anti_fire_rate
			priority = 1
		}
	}
	
	prerequisites = { "tech_psionic_disruptor" }
	component_set = "BIO_PSIONIC_DISRUPTOR"
	projectile_gfx = "psionic_disruptor_medium"
	tags = { weapon_type_energy weapon_type_psionic m_slot debuffer_role }
	ai_tags = { weapon_role_anti_hull brawler brawler_stealth debuffer_role debuffer_role_stealth }
	ai_tag_weight = 5
	resources = {
		category = ship_components
		cost = {
			alloys = @m_t5_cost # 44
			sr_zro = @s_t5_rare # 0.33
		}
		upkeep = {
			food = @m_t5_upkeep_energy
			alloys = @m_t5_upkeep_alloys
		}
	}
	ship_modifier = {
		ship_shield_regen_add_static = @regen_M1 #Regeneration per day
		ship_orbital_bombardment_mult = 0.3
	}
	potential = {
		from = {
			country_uses_bio_ships = yes
		}
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = yes
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

# ## Zro Launchers
weapon_component_template = {
	key = "PSIONIC_TORPEDO"
	size = torpedo
	type = instant

	firing_arc = 25.0
	min_range = 45.0

	icon = "GFX_ship_part_psionic_torpedo"
	icon_frame = 1
	prerequisites = { "tech_zro_launcher" }

	component_set = "PSIONIC_TORPEDO"
	projectile_gfx = "psionic_torpedoes"
	tags = { weapon_type_energy weapon_type_psionic g_slot }
	ai_tags = { weapon_role_artillery artillery artillery_stealth energy_torpedoes energy_torpedoes_stealth }
	ai_tag_weight = 0
	resources = {
		category = ship_components
		cost = {
			alloys = @l_t7_cost # 148
			sr_zro = @l_t4_rare # 1.0
		}
		upkeep = {
			alloys = @l_t7_upkeep_alloys
			energy = @l_t7_upkeep_energy
		}
	}

	potential = {
		from = {
			country_uses_bio_ships = no
		}
		ship_uses_mauler_components = no
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = no
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}

weapon_component_template = {
	key = "BIO_PSIONIC_TORPEDO"
	size = torpedo
	type = instant

	firing_arc = 25.0
	min_range = 45.0

	icon = "GFX_mutation_psionic_bio_launcher"
	icon_frame = 1
	prerequisites = { "tech_zro_launcher" }

	component_set = "BIO_PSIONIC_TORPEDO"
	projectile_gfx = "psionic_torpedoes"
	tags = { weapon_type_energy weapon_type_psionic g_slot }
	ai_tags = { weapon_role_artillery artillery artillery_stealth energy_torpedoes energy_torpedoes_stealth }
	ai_tag_weight = 0
	resources = {
		category = ship_components
		cost = {
			alloys = @l_t7_cost # 148
			sr_zro = @l_t4_rare # 1.0
		}
		upkeep = {
			food = @l_t7_upkeep_energy
			alloys = @l_t7_upkeep_alloys
		}
	}

	potential = {
		from = {
			country_uses_bio_ships = yes
		}
		ship_uses_mauler_components = no
	}
	show_tech_unlock_if = {
		country_uses_bio_ships = yes
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
	}
}
